<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Seopyo</title>
    <link rel="stylesheet" type="text/css" href="popup.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  </head>
  <body>
    <h1>ðŸ”– Seopyo</h1>
    <button id="help-button">Show Help</button>
    <button id="settings-button">Show Settings</button>
    <p></p>
    <div id="help-section" style="display: none">
      <h1>Help</h1>
      <p>1. To get started, click on "Show/Hide Settings"</p>
      <p>2. Add in the URLs of the sites you want to use Seopyo on in the Rule Editor section</p>
      <p>3. Saving/Loading via Github Gist isn't mandatory - if you want to set it up its there for you</p>
      <hr />
    </div>
    <div id="settings-div" style="display: block">
      <div>
        <button id="list-button">List Storage</button>
        <button id="copy-all-storage-button">Copy ALL Webtoon Storage To Clipboard</button>
        <button id="clear-button">Clear Storage</button>
      </div>
      <hr />
      <h1>Github Gist Settings</h1>
      <div>
        <label for="github-token">Github Token: </label>
        <input type="password" id="github-token" name="github-token" />
        <button id="show-github-token-button">Show</button>
        <button id="github-token-help-button">Help</button>
      </div>
      <div id="github-token-help" style="display: none">
        <p>How to get a Github Token</p>
        <ul>
          <li>
            1. Create a Github account -
            <a href="https://github.com/" target="_blank">Here</a>
          </li>
          <li>
            2. Navigate to the token page in settings -
            <a href="https://github.com/settings/tokens?type=beta" target="_blank">Here</a>
          </li>
          <li>3. Create a "Fine-grained token" -> Grant "Gists" the "Read and write" access</li>
          <li>4. Set the expiry date to a long time from now</li>
          <li>5. Once the token is generated, save the Token that gets generated</li>
          <li>
            <span class="tip-text">Tip: You can click the "show" button above to use your Token on another device</span>
          </li>
          <li>6. You can then paste that token above and click the save button below</li>
        </ul>
      </div>
      <p></p>
      <div>
        <label for="gist-url">Gist URL: </label>
        <input type="text" id="gist-url" name="gist-url" />
      </div>
      <p></p>
      <div>
        <button id="save-github-info-button">Save Info</button>
        <button id="load-gist-data-button">Load from Gist</button>
        <button id="save-gist-data-button">Save to Gist</button>
        <p></p>
      </div>
      <hr />
      <div style="display: none">
        <h1>Allowed Domains Settings</h1>
        <textarea
          id="allowed-domains-textarea"
          placeholder="https://www.webtoon-site-here.com/,&#10;https://www.webtoon-site-here.com/"
        ></textarea>
        <p></p>
        <button id="save-allowed-domains-button">Save</button>
      </div>
      <div>
        <h1>Load Via JSON</h1>
        <textarea id="load-via-json-textarea"></textarea>
        <p></p>
        <button id="load-via-json-button">Load</button>
      </div>
      <hr />
      <div>
        <h1>Rule Editor<i id="rule-editor-help-button" class="bi bi-question-circle bootstrapicon"></i></h1>
        <div style="display: none" id="rule-editor-help-section">
          <h1>Rule Editor - Help</h1>
          <ul>
            <li>1. Enter in URLs for chapter page & webtoon hub page</li>
            <li>2. Press Scan</li>
            <li>3. Look under the "Chapter Value" column</li>
            <li>
              4. Enter the corresponding Index value that corresponds with the row that contains the chapter in the
              "Chapter Index" input field
            </li>
            <li>5. Do the same for the "Name Index" field</li>
            <li>6. Save</li>
            <li>7. Effectively this is setting how the URLs will be parsed for webtoon name & chapter number</li>
            <li>Example Screenshot:</li>
            <img src="rule-editor-example.png" />
          </ul>
          <hr />
          <p></p>
        </div>
        <label for="sample-url-input">Chapter Page: </label>
        <input
          id="sample-url-input"
          class="longer-input"
          placeholder="https://www.coolscans.com/coolwebtoon/chapter-1"
        />
        <p></p>
        <label for="hub-page-url-input">Hub Page: </label>
        <input
          type="text"
          id="hub-page-url-input"
          class="longer-input"
          name="hub-page-url-input"
          placeholder="https://www.coolscans.com/coolwebtoon"
        />
        <p></p>
        <button id="split-url-button">Scan</button>
        <p></p>
        <div id="rule-editor-subsection" style="display: none">
          <table>
            <thead>
              <tr>
                <th>Index</th>
                <th>Chapter Value</th>
              </tr>
            </thead>
            <tbody id="url-split-table"></tbody>
          </table>
          <p></p>
          <br />
          <label for="chapter-index-input">Chapter Index: </label>
          <input type="text" id="chapter-index-input" name="chapter-index-input" />
          <label for="name-index-input">Name Index: </label>
          <input type="text" id="name-index-input" name="name-index-input" />
          <p></p>
          <button id="save-new-rule-button">save</button>
          <p></p>
        </div>
        <table>
          <thead>
            <tr>
              <th>Domain</th>
              <th>Chapter Index</th>
              <th>Name Index</th>
              <th>Hub Page Length</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="rule-editor-table"></tbody>
        </table>
      </div>
    </div>
    <table id="chapter-table">
      <h1>Webtoons</h1>
      <thead>
        <tr>
          <th>Webtoon Name</th>
          <th>Current Chapter</th>
          <th>Actions</th>
          <th>Include</th>
        </tr>
      </thead>
      <tbody id="table-body"></tbody>
    </table>
    <script src="popup.js"></script>
  </body>
</html>
